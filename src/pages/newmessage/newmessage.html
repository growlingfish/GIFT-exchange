<ion-header>

  <ion-navbar>
    <ion-title>Write Your Message</ion-title>

    <ion-buttons end>
        <button ion-button icon-only (click)="logout()">
          <ion-icon name="log-out"></ion-icon>
        </button>
      </ion-buttons>
  </ion-navbar>

</ion-header>

<ion-content padding>
  
    <ion-grid>
        <ion-row justify-content-center align-items-center>
          <div class="outer">

        <p>What would you like to tell the recipient about this object?</p>
        <p>Why did you choose it for them?</p>
      
        <button ion-button *ngIf="isUndecided()" (click)="setText()">Let me type</button>
        <button ion-button *ngIf="isUndecided()" (click)="setAudio()">Let me speak</button>

        <button ion-button (click)="stopRecord()" *ngIf="isAudio() && recording"><ion-icon name="mic-off"></ion-icon>&nbsp;&nbsp;Stop Record</button>
        <button ion-button (click)="startRecord()" *ngIf="isAudio() && !recording"><ion-icon name="mic"></ion-icon>&nbsp;&nbsp;{{!hasRecorded() ? 'Start Record' : 'Re-record'}}</button>
        <button ion-button color="light" (click)="playAudio()" *ngIf="isAudio() && !recording && hasRecorded()">Replay Message</button>

        <ion-textarea *ngIf="isText()" autocomplete="true" spellcheck="true" placeholder="Your message" name="message" [(ngModel)]="message" required></ion-textarea>
      
        <div class="buttons">
          <button ion-button block (click)="finishMessage()" [disabled]="!canUpload()">{{buttonAction}}</button>
          <button ion-button color="danger" (click)="cancel()">Cancel</button>
        </div>
      </div>
    </ion-row>

  </ion-grid>

</ion-content>
